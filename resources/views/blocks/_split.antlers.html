{{#
	@name Split
	@desc Text content and media asset split
    @set page.blocks.split
#}}

<section
    id="{{ block:anchor }}"
    class="relative flex flex-col
    {{ block:layout === "left" ? "md:flex-row-reverse" : "md:flex-row" }}
    w-full {{ partial:snippets/no_block_spacing }}"
>
    {{# -- Ï€ ----
    // :: BACKGROUND
    // : ------------------------------------ #}}
    <div class="relative w-full md:w-1/2 h-80 sm:h-96 md:h-full bg-blue-900">
        <div
            x-data="fadeIn()"
            x-init="
                delay = $store.site.animationDelay + {{ increment }};
                mounted();
            "
            x-ref="element"
            class="absolute inset-0 w-full h-full"
        >
            <div
                x-data="parallaxBackground()"
                x-init="
                    container = $refs.container;
                    scale = 1.3;
                    mounted();
                "
                x-ref="container"
                x-cloak
                class="absolute inset-0 w-full h-full overflow-hidden"
            >
                {{ partial:components/background
                    :asset_type="block:asset_type"
                    :image="block:image"
                    js="x-ref='background'"
                }}
            </div>
        </div>
    </div>

    <div class="flex flex-col justify-center w-full md:w-1/2 px-10 py-16 md:p-12 lg:p-16 xl:p-20">
        {{# :: Subtitle
        {+} ------------------------------------ #}}
        {{ if block:subtitle }}
            {{ partial:typography/h6
                as="p"
                :content="block:subtitle"
                color="text-green-500"
                class="mb-6"
                js="
                    x-data='wordsUp()'
                    x-init='
                        delay = $store.site.animationDelay + {increment by="0.3"};
                        mounted();
                    '
                    x-ref='wrapper'
                "
            }}
        {{ /if }}

        {{# :: Title
        {+} ------------------------------------ #}}
        {{ partial:typography/h2
            :content="block:title"
            class="mb-2"
            js="
                x-data='wordsUp()'
                x-init='
                    delay = $store.site.animationDelay + {increment by="0.3"};
                    mounted();
                '
                x-ref='wrapper'
            "
        }}

        {{# :: Text
        {+} ------------------------------------ #}}
        {{ if block:text }}
            {{ partial:typography/paragraph
                as="p"
                :content="block:text"
                class="max-w-md mb-8 overflow-hidden"
                js="
                    x-data='linesRight()'
                    x-init='
                        delay = $store.site.animationDelay + {increment by="0.5"};
                        mounted();
                    '
                    x-ref='wrapper'
                "
            }}
        {{ /if }}

        {{# :: Buttons
        {+} ------------------------------------ #}}
        {{ partial:components/buttons
            :buttons="block:buttons"
            js="
                x-data='fadeIn()'
                x-init='
                    delay = $store.site.animationDelay + {increment by="0.4"};
                    mounted();
                '
                x-ref='element'
            "
        }}
    </div>
</section>
